# Esame di Programmazione di Sistema - Cabodi OS - 09 Settembre 2024

---
## Domanda 1

_(SÌ/NO, Spiega/motiva brevemente)_

1. In un sistema con tabella delle pagine invertita, una singola entry della tabella delle pagine può essere
   condivisa da più pagine virtuali di processi diversi senza causare un conflitto nella traduzione degli indirizzi?
2. In un sistema che utilizza la sostituzione di pagina locale, un processo con un tasso molto elevato di
   page fault può comunque causare una riduzione della memoria fisica disponibile ad altri processi?
3. In un sistema di memoria virtuale con un grado di multiprogrammazione fisso, il thrashing può comunque
   verificarsi se la somma dei working set di tutti i processi è inferiore alla memoria fisica disponibile ma l'algoritmo
   di sostituzione delle pagine non è ottimizzato?
4. Considera un sistema a 64 bit con uno spazio di indirizzamento virtuale di $2^{48}$ byte, una dimensione di
   pagina di 4 KB e 16 GB di memoria fisica. Supponiamo che il sistema utilizzi una tabella delle pagine invertita.
   Calcola e spiega quanto segue:<br>
   a. Il numero di bit richiesti per il numero di frame fisico.<br>
   b. Il numero totale di entry nella tabella delle pagine invertita.<br>
   c. L'indirizzo virtuale dato a un processo è $0x00007FFFFFFFF000$. Determina l'indirizzo fisico
   se questo indirizzo virtuale è mappato al 1.024° frame fisico. Mostra tutti i passaggi,
   incluso il calcolo del numero di pagina e dell'offset.

---

## Domanda 2

Considera un file system che utilizza l'allocazione concatenata (**linked allocation**) per l'archiviazione dei file.
Il disco è diviso in blocchi di 4 KB ciascuno. Ogni blocco contiene un puntatore al blocco successivo, che occupa 4 byte del blocco.
Un file richiede 5 MB di spazio di archiviazione.

A. Calcola il numero di blocchi disco richiesti per memorizzare l'intero file, incluso lo spazio necessario per i puntatori.<br>
B. Se i puntatori fossero ridotti a 2 byte (assumendo una capacità del disco minore), ricalcola il numero di blocchi richiesti.
Questa modifica renderebbe più efficiente la memorizzazione del file in termini di utilizzo dei blocchi?<br>
C. Confronta l'overhead introdotto dai puntatori in entrambi i casi come percentuale dello storage totale utilizzato.

---

## Domanda 3

_(SÌ/NO, Spiega/motiva brevemente)_

1. In un sistema con più dispositivi I/O e una singola CPU, le operazioni di I/O possono avvenire in
   parallelo se la CPU è impegnata nell'esecuzione di un processo?
2. In un sistema con memoria virtuale a paginazione su richiesta e DMA, un page fault può verificarsi
   durante un trasferimento DMA, causando il fallimento del trasferimento se non vengono prese le dovute precauzioni?
3. In un sistema che utilizza I/O basato su interrupt, è possibile che un interrupt venga perso
   se il controller degli interrupt è occupato a elaborare un altro interrupt e il dispositivo che ha attivato il secondo
   interrupt non supporta la coda degli interrupt?
4. Considera un Hard Disk Drive (HDD) con le seguenti specifiche:
   * Dimensione del settore: 512 Byte
   * Numero di tracce per superficie: 5.000
   * Numero di settori per traccia: 300
   * Numero di piatti a doppia faccia: 6
   * Velocità di rotazione del piatto: 7.200 rpm (giri al minuto)
   1. Calcola la massima velocità di trasferimento dati possibile in megabyte al secondo (MB/s),
      assumendo che una traccia di dati possa essere trasferita per rivoluzione.
   2. Se il disco subisce un crash della testina su un piatto, come influisce questo sulla capacità totale e
      sulla disponibilità dei dati, assumendo che non siano presenti meccanismi RAID o di backup?
   3. Se il disco ha un tempo di seek medio di 4 ms e deve leggere un file di 350MB diviso su 200 tracce non
      contigue, calcola il tempo totale richiesto per leggere il file. Includi il tempo di seek, la latenza rotazionale e il
      trasferimento dati. Supponi che la latenza rotazionale media sia di 4,165 ms e che una traccia possa essere letta per rivoluzione.
>[!NOTE]
> Questa ultima domanda è la versione plausibile indicata nella soluzione anche dallo stesso Prof. (non era corretta proprio la domanda)
 
---

